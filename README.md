# DOCKER-COMPOSE API_YAMDB
Данный проект показывает, как можно распортранять свой проект используя контейнеризацию.

### Настройка файла окружения
Для хранения информации по настройкам и переменным используется файл infra_sp2/infra/.env
В файле хранятся данные ограниченного распостранения.

*Шаблон файла .env* 
```
DB_ENGINE=django.db.backends.postgresql
# указываем, что работаем с postgresql
DB_NAME=postgres
# имя базы данных
POSTGRES_USER=postgres
# логин для подключения к базе данных
POSTGRES_PASSWORD=postgres
# пароль для подключения к БД (установите свой)
DB_HOST=db
# название сервиса (контейнера)
DB_PORT=5432
# порт для подключения к БД
```

### Запуск контейнера

Для успешного запуска и работы контейнера Вам необходимо установить на свою систему пакеты docker и docker-compose.

Для запуска необходимо перейти в дерикторию с проектов (в корне директории должен находиться файл docker-compose.yml) и выполнить команду

```docker-compose up -d --build```

После данной команды docker скачает необходимые зависимости и настроит работу.
После успешного выполнения команды необходимо провести миграции и создать пользователя, для этого последовательно выполняем команды

```docker-compose exec web python manage.py makemigrations```

```docker-compose exec web python manage.py migrate```

Создаем суперпользователя для панели django

```docker-compose exec web python manage.py createsuperuser```

После успешного создания пользователя, панель администратора доступна по адресу

http://localhost/admin/

